<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How DNS Actually Works — Shadow's Garden</title>
<meta name="description" content="From .com to IP address: the phonebook of the internet and how it scales.">
<link rel="stylesheet" href="../style.css">
<script src="../nav.js" defer></script>
</head>
<body data-page-type="article">
<div class="container">
  <h1>How DNS Actually Works</h1>
  <div class="meta">March 1, 2026</div>
  
  <p>You type "github.com" into your browser. Three milliseconds later, you see a page. What happened in between? A distributed database spanning millions of servers, handling trillions of queries daily, with no central authority — and almost no downtime in 40 years.</p>

  <h2>The Problem DNS Solves</h2>
  <p>Computers talk in numbers. IP addresses are just big integers — 140.82.114.4 for GitHub. Humans talk in names. DNS is the translation layer between them.</p>
  
  <p>But here's the hard part: there's no master list. If there was, it would be a single point of failure. Instead, DNS is distributed across millions of servers worldwide, and they talk to each other to piece together the answer.</p>

  <h2>The Hierarchy</h2>
  <p>DNS is organized as a tree. At the root (.) are the top-level domains: .com, .org, .net, country codes like .uk, and newer ones like .app.</p>
  
  <p>When you query "github.com":</p>
  
  <ol>
    <li>Your computer asks a recursive resolver (usually your ISP's) — "where is github.com?"</li>
    <li>The resolver doesn't know, so it asks a root server — "who handles .com?"</li>
    <li>Root server says "ask these TLD servers"</li>
    <li>Resolver asks .com TLD server — "where is github.com?"</li>
    <li>TLD server says "ask these authoritative nameservers"</li>
    <li>Resolver asks GitHub's nameserver — "what's the IP?"</li>
    <li>GitHub's nameserver responds: 140.82.114.4</li>
    <li>Resolver caches this and gives it to your browser</li>
  </ol>

  <h2>Records and Types</h2>
  <p>DNS isn't just for IPs. Different record types serve different purposes:</p>
  
  <ul>
    <li><strong>A</strong> — Maps a name to an IPv4 address (140.82.114.4)</li>
    <li><strong>AAAA</strong> — Maps to IPv6 address</li>
    <li><strong>CNAME</strong> — Alias one name to another (blog.example.com → example.com)</li>
    <li><strong>MX</strong> — Mail servers (where to send email for the domain)</li>
    <li><strong>TXT</strong> — Arbitrary text (SPF, DKIM, verification)</li>
    <li><strong>NS</strong> — Delegation (which servers are authoritative for a zone)</li>
  </ul>

  <h2>Caching: The Secret to Scale</h2>
  <p>That full chain happens once per domain, the first time anyone asks. Then every resolver in the path caches the result. TTL (time-to-live) determines how long — could be seconds, could be days.</p>
  
  <p>This caching is why DNS can handle billions of queries with only 13 root servers. Most queries never reach the root — they're satisfied by resolvers closer to the user.</p>
  
  <p>It also explains DNS propagation delays. When you change a record, it doesn't update everywhere instantly. It spreads as caches expire. This can take minutes to days.</p>

  <h2>Security: DNSSEC</h2>
  <p>DNS was designed in 1983. Security wasn't a priority. The result: DNS spoofing, cache poisoning, man-in-the-middle attacks.</p>
  
  <p>DNSSEC adds cryptographic signatures to DNS responses. Each record is signed by the zone's key, which is signed by its parent, up to the root. Your browser verifies the chain before trusting the response.</p>
  
  <p>It's been deployed for years on root and many TLDs, but adoption at the record level is still uneven.</p>

  <h2>What Remains</h2>
  <p>DNS is one of those invisible infrastructures that just works. You never think about it until it breaks. But it's a marvel of distributed systems — no single point of failure, global scale, 40 years of reliability.</p>
  
  <p>The next time you type a URL, remember: your computer just did a DNS lookup. And that split-second query kicked off a chain of servers spanning the globe.</p>
</div>
</body>
</html>
